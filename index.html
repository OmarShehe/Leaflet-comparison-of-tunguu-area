<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="content-type" content="text/html" />
    <meta name="author" content="omarshehe" />
    <!-- Leaflet PlugIn -->
    <link rel="stylesheet" href="plugIn/leaflet/leaflet.css" type="text/css"/>
    <script src="plugIn/leaflet/leaflet.js"></script>
    
    <!-- Full Screen PlugIn -->
    <link rel="stylesheet" href="plugIn/fullscreen/Control.FullScreen.css" />
    <script src="plugIn/fullscreen/Control.FullScreen.js"></script>
    
    <!-- Addition style -->
    <link href="css/additional.css" rel="stylesheet" type="text/css" />
    
    <!-- Side by side PlugIn -->
    <script src="plugIn/sideBySide/leaflet-side-by-side.js"></script>
    
    <!-- Drow PlugIn -->
    <script src="plugIn/draw/src/Leaflet.draw.js"></script>
    <link rel="stylesheet" href="plugIn/draw/dist/leaflet.draw.css" />
    <script src="plugIn/draw/src/Toolbar.js"></script>
    <script src="plugIn/draw/src/Tooltip.js"></script>
    <script src="plugIn/draw/src/ext/GeometryUtil.js"></script>
    <script src="plugIn/draw/src/ext/LatLngUtil.js"></script>
    <script src="plugIn/draw/src/ext/LineUtil.Intersect.js"></script>
    <script src="plugIn/draw/src/ext/Polygon.Intersect.js"></script>
    <script src="plugIn/draw/src/ext/Polyline.Intersect.js"></script>
    <script src="plugIn/draw/src/ext/TouchEvents.js"></script>
    <script src="plugIn/draw/src/draw/DrawToolbar.js"></script>
    <script src="plugIn/draw/src/draw/handler/Draw.Feature.js"></script>
    <script src="plugIn/draw/src/draw/handler/Draw.SimpleShape.js"></script>
    <script src="plugIn/draw/src/draw/handler/Draw.Polyline.js"></script>
    <script src="plugIn/draw/src/draw/handler/Draw.Circle.js"></script>
    <script src="plugIn/draw/src/draw/handler/Draw.Marker.js"></script>
    <script src="plugIn/draw/src/draw/handler/Draw.Polygon.js"></script>
    <script src="plugIn/draw/src/draw/handler/Draw.Rectangle.js"></script>
    <script src="plugIn/draw/src/edit/EditToolbar.js"></script>
    <script src="plugIn/draw/src/edit/handler/EditToolbar.Edit.js"></script>
    <script src="plugIn/draw/src/edit/handler/EditToolbar.Delete.js"></script>
    <script src="plugIn/draw/src/Control.Draw.js"></script>
    <script src="plugIn/draw/src/edit/handler/Edit.Poly.js"></script>
    <script src="plugIn/draw/src/edit/handler/Edit.SimpleShape.js"></script>
    <script src="plugIn/draw/src/edit/handler/Edit.Circle.js"></script>
    <script src="plugIn/draw/src/edit/handler/Edit.Rectangle.js"></script>
    <script src="plugIn/draw/src/edit/handler/Edit.Marker.js"></script>
    
    <!-- MagnifyingGlass plugIn -->
    <link rel="stylesheet" href="plugIn/MagnifyingGlass/leaflet.magnifyingglass.css" />
    <link rel="stylesheet" href="plugIn/MagnifyingGlass/Control.MagnifyingGlass.css" />
    <script src="plugIn/MagnifyingGlass/leaflet.magnifyingglass.js"></script>
    <script src="plugIn/MagnifyingGlass/example_button.js"></script>
    <link rel="stylesheet" href="plugIn/zoomdisplay/dist/leaflet.zoomdisplay.css" />
	<title>Tunguu Before After</title>
</head>

<body>
<script type="text/javascript" src="plugIn/zoomdisplay/dist/leaflet.zoomdisplay-src.js"></script>
<div id="map"></div>
<div id="m"></div>
<script type="text/javascript">
    //Base layers
    var osm=L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a>'});
    //var stamen=L.tileLayer('http://tile.stamen.com/terrain/{z}/{x}/{y}.jpg', {attribution: '&copy; <a href="http://maps.stamen.com/">Stamen Design</a>'});
   //var osm=('http://{s}.tile.osm.org/{z}/{x}/{y}.png');
    //var tileOptions = {attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors' };
    //Tunguu Before layer
    var TunguuBefore =L.tileLayer('data/suza_tiles/suza-31072016/suza_31072016/{z}/{x}/{y}.png', {maxZoom: 20,tms: true,attribution: 'Generated by QTiles',opacity:1});
    //Tunguu After layer
    var TunguuAfter =L.tileLayer('data/suza_tiles/suza-30012017/suza_30012017/{z}/{x}/{y}.png', {maxZoom: 20,tms: true,attribution: 'Generated by QTiles',opacity:1});
    
    
    //Initializing the map
    var map = L.map('map',{fullscreenControl:true,fullscreenControlOption:{position:'topleft'},measureControl: true,center: [-6.199508, 39.306987],zoom: 20,minZoom:15,layers: [osm,TunguuBefore,TunguuAfter]});
    drawnItems = L.featureGroup().addTo(map);
    
    var Baselayer={"Open Street Map":osm};
    var OverPlaylayer={"Tunguu Before": TunguuBefore,"Tunguu After":TunguuAfter,"Draw layer":drawnItems};
    
    //Layer group and control
    L.control.layers(Baselayer,OverPlaylayer,{collapsed:false,position:'topleft'}).addTo(map);
    
    //Control side by side
    L.control.sideBySide(TunguuBefore,TunguuAfter).addTo(map); 
    
    //Main Title Function
    var title = new L.Control();
    title.onAdd = function (map) {
        this._div = L.DomUtil.create('div', 'info Title-Center');
        this._div.innerHTML = '<h1>COMPARISON OF TUNGUU AREA</h1>'
        return this._div;
    };title.addTo(map);
    
    ///Before Title Function
    var BeforeT= new L.Control({position:'bottomleft'});
    BeforeT.onAdd = function (map) {
        this._div = L.DomUtil.create('div', 'info lblDate');
        this._div.innerHTML = '<h3>31 July 2016</h3>'
        return this._div;
    };BeforeT.addTo(map);
    
    //After Title Function
    var AfterT = new L.Control({position:'bottomright'});
    AfterT.onAdd = function (map) {
        this._div = L.DomUtil.create('div', 'info');
        this._div.innerHTML = '<h3>30 January 2017</h3>'
        return this._div;
    };AfterT.addTo(map);
     
    // Create additional Control 
    function additionalControl(map) {
        var corners = map._controlCorners,container = map._controlContainer;
        function createCorner(vSide, hSide) {
            var className =  vSide + ' '  + hSide;
            corners[vSide + hSide] = L.DomUtil.create('div', className, container);
        }
        createCorner('top', 'center');
    }additionalControl(map);
    
    //Change position of Main Title "You need to create your own style base on class name 'top center'"
    title.setPosition('topcenter');
    
    //draw control
    map.addControl(new L.Control.Draw({edit: {featureGroup: drawnItems,poly : {allowIntersection : false}},draw: {polygon : {allowIntersection: false}}}));
    map.on('draw:created', function(event) {
        var layer = event.layer;
        drawnItems.addLayer(layer);
    });  
   
    // magnifyingGlass
 
   //var magnifyingGlass = L.magnifyingGlass({   zoomOffset: 3,layers: [osm]});
    /* var m= L.control.magnifyingglass(magnifyingGlass, { forceSeparateButton: true});
       
       m.addTo(map);
     map.removeControl(m);
   */
</script>
</body>
</html>